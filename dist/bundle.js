(()=>{socket=io();var e=document.getElementById("chat-form"),t=document.querySelector(".chat-messages"),o=Qs.parse(location.search,{ignoreQueryPrefix:!0}),n=(o.username,o.room,"John");function s(e){var t=document.createElement("div");t.classList.add("message"),t.innerHTML='<p class="meta">'.concat(e.from,"<span> ").concat(e.time,", ").concat(e.date,'</span></p>\n    <p class ="text">\n        ').concat(e.message,"\n    </p>"),document.querySelector(".chat-messages").appendChild(t)}e.addEventListener("submit",(function(e){e.preventDefault();var t=e.target.elements.msg.value;final={fromUser:n,toUser:"Maria",msg:t},socket.emit("chatMessage",final),document.getElementById("msg").value=" "})),socket.on("output",(function(e){console.log(e)})),socket.on("output",(function(e){for(var o=0;o<e.length;o++)s(e[o]);t.scrollTop=t.scrollHeight})),socket.on("message",(function(e){s(e),console.log(e),t.scrollTop=t.scrollHeight}))})();